| Date | Story | Epic | Type | Severity | Owner | Status | Notes |
|---|---|---|---|---|---|---|---|
| 2025-12-01 | 1.2 | 1 | Bug | High | TBD | Open | **Implement RLS Policies:** Add `op.execute("CREATE POLICY ...")` statements to the migration file for each table to define actual access rules (AC #5). [file: `backend/alembic_migrations/versions/a8c234ea5923_create_core_compliance_tables.py`] |
| 2025-12-01 | 1.2 | 1 | TechDebt | High | TBD | Open | **Write Tests:** Implement unit tests for models and integration tests for DB persistence. [file: `backend/tests/test_compliance_models.py`] |
| 2025-12-01 | 1.3 | 1 | TechDebt | Low | TBD | Open | **Refactor Tenant ID:** Refactor `tenant_id` logic when User model supports explicit organization/tenant association (Tech Debt). [file: `backend/app/routes/compliance.py`] |
| 2025-12-03 | 1.4 | 1 | TechDebt | Low | TBD | Open | **Run Playwright Tests:** Ensure `npx playwright test` is run locally or in CI to validate the authored E2E tests. |
| 2025-12-03 | 1.4 | 1 | Enhancement | Low | TBD | Open | **Error Toast:** Consider adding a toast notification library (like `sonner` or `react-hot-toast`) for better user feedback on success/failure actions, replacing or augmenting the inline alerts. |
| 2025-12-06 | 3.1 | 3 | TechDebt | High | TBD | Open | **Missing Test:** Implement integration test for successful document upload. [file: `backend/tests/api/v1/test_documents.py`] |
| 2025-12-06 | 3.1 | 3 | Security | Med | TBD | Open | **File Validation:** Check magic bytes instead of content-type header. [file: `backend/app/services/document_service.py`] |
| 2025-12-06 | 3.1 | 3 | TechDebt | Low | TBD | Open | **Tenant Isolation:** Update `get_documents_by_user` to explicitly filter by `tenant_id`. [file: `backend/app/services/document_service.py`] |
| 2025-12-06 | 3.1 | 3 | UX | Med | TBD | Open | **Frontend Access Control:** Wrap `DocumentsPage` with `RoleGuard` to enforce admin access on client-side. [file: `frontend/app/dashboard/admin/documents/page.tsx`] |
| 2025-12-06 | 3.2 | 3 | TechDebt | Low | TBD | Open | **AI Error Handling:** Distinguish retryable API errors (429/5xx) from hard failures in `AIService`. [file: `backend/app/services/ai_service.py`] |
| 2025-12-06 | 3.2 | 3 | Enhancement | Low | TBD | Open | **Document Chunking:** Implement robust chunking for large docs (token counting) to prevent context overflow. [file: `backend/app/services/ai_service.py`] |
| 2025-12-06 | 3.3 | 3 | UX | Med | TBD | Done | **BPO Selection:** Implement BPO Selection dropdown in Frontend to allow manual assignment. [file: `frontend/app/dashboard/compliance/review/page.tsx`] |